<%- include('partials/header') %>
<link rel="stylesheet" href="/css/buyerCSS/buyer-main.css">
<link rel="stylesheet" href="/css/buyerCSS/aog-case-create.css">

<%- include('partials/navbar') %>

<!-- ====================================
     AOG CASE CREATION PAGE
     ==================================== -->
<div class="aog-create-page">
  <!-- Hero Section -->
  <div class="aog-hero">
    <div class="container">
      <div class="aog-hero-content">
        <div class="aog-badge">
          <i data-lucide="alert-triangle"></i>
          <span><%= t('aog.caseCreate.badge') %></span>
        </div>

        <h1 class="aog-hero-title"><%= t('aog.caseCreate.title') %></h1>
        <p class="aog-hero-subtitle">
          <%= t('aog.caseCreate.subtitle') %>
        </p>
      </div>
    </div>
  </div>

  <!-- Form Container -->
  <div class="aog-form-container">
    <!-- Case Type Selection -->
    <div class="aog-form-card">
      <div class="aog-form-header">
        <h2 class="aog-form-title">
          <i data-lucide="layers"></i>
          <%= t('aog.caseCreate.caseType.title') %>
        </h2>
        <p class="aog-form-description">
          <%= t('aog.caseCreate.caseType.description') %>
        </p>
      </div>

      <div class="case-type-grid">
        <!-- AOG Option -->
        <label class="case-type-option aog">
          <input type="radio" name="caseType" value="aog" checked>
          <div class="case-type-content">
            <i data-lucide="alert-octagon" class="case-type-icon"></i>
            <div class="case-type-name"><%= t('aog.caseCreate.caseType.aog') %></div>
            <div class="case-type-desc"><%= t('aog.caseCreate.caseType.aogDesc') %></div>
          </div>
        </label>

        <!-- Routine Option -->
        <label class="case-type-option routine">
          <input type="radio" name="caseType" value="routine">
          <div class="case-type-content">
            <i data-lucide="clock" class="case-type-icon"></i>
            <div class="case-type-name"><%= t('aog.caseCreate.caseType.routine') %></div>
            <div class="case-type-desc"><%= t('aog.caseCreate.caseType.routineDesc') %></div>
          </div>
        </label>

        <!-- Scheduled Option -->
        <label class="case-type-option scheduled">
          <input type="radio" name="caseType" value="scheduled">
          <div class="case-type-content">
            <i data-lucide="calendar" class="case-type-icon"></i>
            <div class="case-type-name"><%= t('aog.caseCreate.caseType.scheduled') %></div>
            <div class="case-type-desc"><%= t('aog.caseCreate.caseType.scheduledDesc') %></div>
          </div>
        </label>
      </div>

      <!-- Urgency Indicator -->
      <div class="urgency-indicator critical" id="urgency-indicator">
        <div class="urgency-icon">
          <i data-lucide="zap"></i>
        </div>
        <div class="urgency-text">
          <div class="urgency-title"><%= t('aog.caseCreate.urgency.title') %></div>
          <div class="urgency-desc"><%= t('aog.caseCreate.urgency.description') %></div>
        </div>
      </div>
    </div>

    <!-- Aircraft Information -->
    <div class="aog-form-card">
      <div class="aog-form-header">
        <h2 class="aog-form-title">
          <i data-lucide="plane"></i>
          <%= t('aog.caseCreate.aircraftInfo.title') %>
        </h2>
        <p class="aog-form-description">
          <%= t('aog.caseCreate.aircraftInfo.description') %>
        </p>
      </div>

      <div class="aog-form-grid">
        <div class="aog-form-group">
          <label class="aog-form-label">
            <i data-lucide="plane-takeoff"></i>
            <%= t('aog.caseCreate.aircraftInfo.aircraftType') %> <span class="required">*</span>
          </label>
          <div class="aog-input-wrapper">
            <i data-lucide="plane" class="aog-input-icon"></i>
            <input type="text" class="aog-input" id="aircraft-type" placeholder="e.g., Boeing 737-800" required>
          </div>
        </div>

        <div class="aog-form-group">
          <label class="aog-form-label">
            <i data-lucide="hash"></i>
            <%= t('aog.caseCreate.aircraftInfo.tailNumber') %> <span class="required">*</span>
          </label>
          <div class="aog-input-wrapper">
            <i data-lucide="hash" class="aog-input-icon"></i>
            <input type="text" class="aog-input" id="tail-number" placeholder="e.g., N12345" required>
          </div>
        </div>

        <div class="aog-form-group">
          <label class="aog-form-label">
            <i data-lucide="map-pin"></i>
            <%= t('aog.caseCreate.aircraftInfo.station') %> <span class="required">*</span>
          </label>
          <div class="aog-input-wrapper">
            <i data-lucide="map-pin" class="aog-input-icon"></i>
            <input type="text" class="aog-input" id="station" placeholder="e.g., JFK Airport" required>
          </div>
        </div>

        <div class="aog-form-group">
          <label class="aog-form-label">
            <i data-lucide="calendar-clock"></i>
            <%= t('aog.caseCreate.aircraftInfo.requiredBy') %> <span class="required">*</span>
          </label>
          <div class="aog-input-wrapper">
            <i data-lucide="calendar" class="aog-input-icon"></i>
            <input type="datetime-local" class="aog-input" id="required-by" required>
          </div>
        </div>

        <div class="aog-form-group full-width">
          <label class="aog-form-label">
            <i data-lucide="file-text"></i>
            <%= t('aog.caseCreate.aircraftInfo.notes') %>
          </label>
          <div class="aog-input-wrapper">
            <i data-lucide="file-text" class="aog-input-icon"></i>
            <textarea class="aog-input aog-textarea" id="notes" placeholder="<%= t('aog.caseCreate.aircraftInfo.notesPlaceholder') %>"></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- Selected Parts List -->
    <div class="aog-form-card">
      <div class="aog-form-header">
        <h2 class="aog-form-title">
          <i data-lucide="package"></i>
          <%= t('aog.caseCreate.selectedParts.title') %>
        </h2>
        <p class="aog-form-description">
          <%= t('aog.caseCreate.selectedParts.description') %>
        </p>
      </div>

      <div class="parts-list" id="selected-parts-list">
        <!-- Parts will be loaded here by JavaScript -->
      </div>

      <div class="parts-summary">
        <div class="parts-summary-label"><%= t('aog.caseCreate.selectedParts.totalParts') %></div>
        <div class="parts-summary-value" id="total-parts-count">0</div>
      </div>
      <div class="parts-summary">
        <div class="parts-summary-label"><%= t('aog.caseCreate.selectedParts.estimatedTotal') %></div>
        <div class="parts-summary-value" id="total-parts-amount">0.00 AED</div>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="aog-form-card">
      <div class="aog-form-actions">
        <button class="btn-aog-cancel" id="btn-cancel">
          <%= t('aog.caseCreate.actions.cancel') %>
        </button>
        <button class="btn-aog-submit" id="btn-submit">
          <span><%= t('aog.caseCreate.actions.proceedToCheckout') %></span>
          <i data-lucide="arrow-right"></i>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Quick Search Modal -->
<%- include('partials/quick-search') %>

<script src="/js/animations.js"></script>
<script src="/js/main.js"></script>
<script src="/js/quick-search.js"></script>
<script src="/js/aog-case-create.js"></script>
<script>
  lucide.createIcons();
  window.addEventListener('load', () => lucide.createIcons());
</script>

<%- include('partials/footer') %>
