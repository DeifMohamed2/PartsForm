<!-- Results Section -->
<div class="search2-results-section">
  <div class="container search-results-container">
    <!-- Backdrop for Filters Sidebar -->
    <div class="filters-backdrop" id="filters-backdrop"></div>

    <!-- Advanced Filters Sidebar -->
    <aside class="filters-sidebar" id="filters-sidebar">
      <div class="filters-header">
        <h3 class="filters-title">Advanced Filters</h3>
        <button class="filters-close" id="filters-close">
          <i data-lucide="x"></i>
        </button>
      </div>

      <div class="filters-content">
        <!-- Price Range -->
        <div class="filter-group">
          <h4 class="filter-group-title">Price Range (AED)</h4>
          <div class="price-range-container">
            <div class="price-range-slider">
              <input type="range" id="price-min" min="0" max="500000" value="0" class="range-input">
              <input type="range" id="price-max" min="0" max="500000" value="500000" class="range-input">
            </div>
            <div class="price-inputs">
              <div class="price-input-group">
                <label>Min Price</label>
                <input type="number" id="min-price-input" value="0" min="0" max="500000" class="price-input">
              </div>
              <div class="price-input-group">
                <label>Max Price</label>
                <input type="number" id="max-price-input" value="500000" min="0" max="500000" class="price-input">
              </div>
            </div>
          </div>
        </div>

        <!-- Weight Range -->
        <div class="filter-group">
          <h4 class="filter-group-title">Weight Range (kg)</h4>
          <div class="weight-inputs">
            <div class="price-input-group">
              <label>Min Weight</label>
              <input type="number" id="min-weight-input" value="0" min="0" max="10000" class="price-input">
            </div>
            <div class="price-input-group">
              <label>Max Weight</label>
              <input type="number" id="max-weight-input" value="10000" min="0" max="10000" class="price-input">
            </div>
          </div>
        </div>

        <!-- Brands -->
        <div class="filter-group">
          <h4 class="filter-group-title">Brands</h4>
          <div class="filter-tags">
            <button class="filter-tag active" data-filter="brand" data-value="All">All</button>
            <button class="filter-tag" data-filter="brand" data-value="OEM">OEM</button>
            <button class="filter-tag" data-filter="brand" data-value="Bosch">Bosch</button>
            <button class="filter-tag" data-filter="brand" data-value="SKF">SKF</button>
            <button class="filter-tag" data-filter="brand" data-value="Parker">Parker</button>
            <button class="filter-tag" data-filter="brand" data-value="Gates">Gates</button>
            <button class="filter-tag" data-filter="brand" data-value="Continental">Continental</button>
            <button class="filter-tag" data-filter="brand" data-value="Caterpillar">Caterpillar</button>
            <button class="filter-tag" data-filter="brand" data-value="3K">3K</button>
            <button class="filter-tag" data-filter="brand" data-value="Aftermarket">Aftermarket</button>
          </div>
        </div>

        <!-- Stock Status -->
        <div class="filter-group">
          <h4 class="filter-group-title">Stock Status</h4>
          <div class="filter-tags">
            <button class="filter-tag active" data-filter="stock" data-value="All">All</button>
            <button class="filter-tag" data-filter="stock" data-value="ST1">ST1</button>
            <button class="filter-tag" data-filter="stock" data-value="ST2">ST2</button>
            <button class="filter-tag" data-filter="stock" data-value="ST3">ST3</button>
            <button class="filter-tag" data-filter="stock" data-value="Low Stock">Low Stock</button>
          </div>
        </div>
      </div>

      <div class="filters-footer">
        <button class="filter-btn-clear" id="clear-filters">Clear All</button>
        <button class="filter-btn-apply" id="apply-filters">Apply Filters</button>
      </div>
    </aside>

    <!-- Main Content Area -->
    <div class="search-results-main">
      <!-- Results Header -->
      <div class="results-header" id="results-header" style="display: none;">
        <p class="results-count">
          Found <strong id="results-count">0</strong> parts matching your search
        </p>
        <p class="results-subtitle">
          <span id="selection-status">Select items to add to cart</span>
          <span class="selected-badge" id="selected-badge" style="display: none;">
            <i data-lucide="shopping-cart"></i>
            <span id="selected-items-count">0</span> Selected
          </span>
        </p>
        <div class="selected-total-box">
          <span class="selected-total-label">Selected Total</span>
          <span class="selected-total-amount" id="selected-total">0.00 AED</span>
        </div>
      </div>

      <!-- Results Table -->
      <div class="results-table-container" id="results-table-container" style="display: none;">
        <div class="table-wrapper">
          <table class="results-table" id="results-table">
            <thead>
              <tr>
                <th>SELECT</th>
                <th>BRAND</th>
                <th>VENDOR CODE</th>
                <th>DESCRIPTION</th>
                <th>SUPPLIER</th>
                <th>ORIGIN</th>
                <th>QTY</th>
                <th>STOCK</th>
                <th>WEIGHT</th>
                <th>DELIVERY</th>
                <th>ORDER QTY</th>
                <th>TOTAL</th>
                <th>-</th>
              </tr>
            </thead>
            <tbody id="results-table-body">
              <!-- Results will be inserted here -->
            </tbody>
          </table>
        </div>

        <!-- Results Footer -->
        <div class="results-footer">
          <button class="btn-add-to-cart" id="add-to-cart-btn">
            Add Selected to Cart (<span id="selected-count">0</span>)
          </button>
          <div class="selected-total-footer">
            <span class="selected-total-label-footer">SELECTED TOTAL:</span>
            <span class="selected-total-amount-footer" id="selected-total-footer">0.00 AED</span>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" id="empty-state">
        <div class="empty-state-icon-wrapper">
          <i data-lucide="search" class="empty-state-icon"></i>
        </div>
        <h3 class="empty-state-title">Start Your Search</h3>
        <p class="empty-state-description">
          Enter a part number, brand name, or description to find parts from verified suppliers worldwide.
        </p>
      </div>

      <!-- No Results State -->
      <div class="empty-state" id="no-results-state" style="display: none;">
        <div class="empty-state-icon-wrapper">
          <i data-lucide="package-x" class="empty-state-icon"></i>
        </div>
        <h3 class="empty-state-title">No Parts Found</h3>
        <p class="empty-state-description">
          We couldn't find any parts matching "<strong id="no-results-query"></strong>".
          Try a different part number or contact our team for assistance.
        </p>
      </div>
    </div>
  </div>
</div>

<!-- Excel Upload Modal -->
<div class="modal" id="excel-modal">
  <div class="modal-overlay" id="excel-modal-overlay"></div>
  <div class="modal-container">
    <div class="modal-header">
      <h3 class="modal-title">
        <i data-lucide="file-spreadsheet"></i>
        <span>Upload Excel File</span>
      </h3>
      <button class="modal-close" id="excel-modal-close">
        <i data-lucide="x"></i>
      </button>
    </div>

    <div class="modal-body">
      <div class="upload-area" id="upload-area">
        <input type="file" id="excel-file-input" accept=".xlsx,.xls,.csv" hidden>
        <div class="upload-icon">
          <i data-lucide="upload-cloud"></i>
        </div>
        <h4 class="upload-title">Drag & drop your Excel file here</h4>
        <p class="upload-subtitle">or click to browse</p>
        <button class="btn-secondary" id="browse-file-btn">
          <i data-lucide="folder-open"></i>
          <span>Browse Files</span>
        </button>
        <p class="upload-hint">Supports .xlsx, .xls, .csv (Max 10MB)</p>
      </div>

      <div class="sample-format">
        <h4 class="sample-title">Expected Format:</h4>
        <div class="sample-table-wrapper">
          <table class="sample-table">
            <thead>
              <tr>
                <th>Part Number</th>
                <th>Quantity</th>
                <th>Brand</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>8471474</td>
                <td>5</td>
                <td>OEM</td>
              </tr>
              <tr>
                <td>1234567</td>
                <td>10</td>
                <td>Bosch</td>
              </tr>
            </tbody>
          </table>
        </div>
        <a href="/api/download-sample-excel" class="download-sample" download>
          <i data-lucide="download"></i>
          <span>Download Sample Template</span>
        </a>
      </div>
    </div>
  </div>
</div>



