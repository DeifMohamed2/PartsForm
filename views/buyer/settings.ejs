<%- include('partials/header') %>
<link rel="stylesheet" href="/css/buyerCSS/buyer-main.css">
<link rel="stylesheet" href="/css/buyerCSS/settings.css">

<%- include('partials/navbar') %>

<!-- ====================================
     SETTINGS PAGE - PROFESSIONAL DESIGN
     ==================================== -->
<div class="settings-page">
  <!-- Hero Section -->
  <div class="settings-hero">
    <div class="settings-hero-content">
      <div class="settings-badge">
        <i data-lucide="settings"></i>
        <span><%= t('settings.badge') %></span>
      </div>

      <h1 class="settings-hero-title"><%= t('settings.title') %></h1>
      <p class="settings-hero-subtitle">
        <%= t('settings.subtitle') %>
      </p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="buyer-container">
    <div class="settings-section">
      <div class="settings-layout">
        <!-- Settings Navigation -->
        <div class="settings-sidebar">
          <div class="settings-nav">
            <button class="settings-nav-item active" data-section="general">
              <i data-lucide="sliders"></i>
              <span><%= t('settings.nav.general') %></span>
            </button>
            <button class="settings-nav-item" data-section="notifications">
              <i data-lucide="bell"></i>
              <span><%= t('settings.nav.notifications') %></span>
            </button>
            <button class="settings-nav-item" data-section="privacy">
              <i data-lucide="lock"></i>
              <span><%= t('settings.nav.privacy') %></span>
            </button>
            <button class="settings-nav-item" data-section="security">
              <i data-lucide="shield"></i>
              <span><%= t('settings.nav.security') %></span>
            </button>
            <button class="settings-nav-item" data-section="preferences">
              <i data-lucide="palette"></i>
              <span><%= t('settings.nav.preferences') %></span>
            </button>
            <button class="settings-nav-item" data-section="billing">
              <i data-lucide="credit-card"></i>
              <span><%= t('settings.nav.billing') %></span>
            </button>
          </div>
        </div>

        <!-- Settings Content -->
        <div class="settings-content">
          <!-- General Settings -->
          <div class="settings-panel active" id="general-panel">
            <div class="settings-panel-header">
              <h2 class="settings-panel-title">
                <i data-lucide="sliders"></i>
                <span><%= t('settings.general.title') %></span>
              </h2>
              <p class="settings-panel-subtitle"><%= t('settings.general.subtitle') %></p>
            </div>

            <div class="settings-group">
              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.general.language') %></h3>
                  <p class="setting-description"><%= t('settings.general.languageDesc') %></p>
                </div>
                <div class="setting-control">
                  <select class="setting-select" id="languageSelect">
                    <option value="en">English</option>
                    <option value="ar">Arabic</option>
                    <option value="ru">Russian</option>
                    <option value="ua">Ukrainian</option>
                    <option value="fr">French</option>
                    <option value="es">Spanish</option>
                  </select>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.general.timezone') %></h3>
                  <p class="setting-description"><%= t('settings.general.timezoneDesc') %></p>
                </div>
                <div class="setting-control">
                  <select class="setting-select" id="timezoneSelect">
                    <option value="UTC">UTC (Coordinated Universal Time)</option>
                    <option value="America/New_York">Eastern Time (ET)</option>
                    <option value="America/Chicago">Central Time (CT)</option>
                    <option value="America/Denver">Mountain Time (MT)</option>
                    <option value="America/Los_Angeles">Pacific Time (PT)</option>
                    <option value="Europe/London">London (GMT)</option>
                    <option value="Europe/Dubai">Dubai (GST)</option>
                  </select>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.general.dateFormat') %></h3>
                  <p class="setting-description"><%= t('settings.general.dateFormatDesc') %></p>
                </div>
                <div class="setting-control">
                  <select class="setting-select" id="dateFormatSelect">
                    <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                    <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                    <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                  </select>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.general.currency') %></h3>
                  <p class="setting-description"><%= t('settings.general.currencyDesc') %></p>
                </div>
                <div class="setting-control">
                  <select class="setting-select" id="preferredCurrencySelect">
                    <option value="ORIGINAL">Show Original Price</option>
                    <option value="USD">USD - US Dollar</option>
                    <option value="EUR">EUR - Euro</option>
                    <option value="GBP">GBP - British Pound</option>
                    <option value="AED">AED - UAE Dirham</option>
                    <option value="JPY">JPY - Japanese Yen</option>
                    <option value="CNY">CNY - Chinese Yuan</option>
                    <option value="RUB">RUB - Russian Ruble</option>
                    <option value="CAD">CAD - Canadian Dollar</option>
                    <option value="AUD">AUD - Australian Dollar</option>
                    <option value="CHF">CHF - Swiss Franc</option>
                    <option value="INR">INR - Indian Rupee</option>
                    <option value="KRW">KRW - South Korean Won</option>
                    <option value="SGD">SGD - Singapore Dollar</option>
                    <option value="HKD">HKD - Hong Kong Dollar</option>
                    <option value="NOK">NOK - Norwegian Krone</option>
                    <option value="SEK">SEK - Swedish Krona</option>
                    <option value="DKK">DKK - Danish Krone</option>
                    <option value="PLN">PLN - Polish Zloty</option>
                    <option value="THB">THB - Thai Baht</option>
                    <option value="MYR">MYR - Malaysian Ringgit</option>
                    <option value="MXN">MXN - Mexican Peso</option>
                    <option value="BRL">BRL - Brazilian Real</option>
                    <option value="ZAR">ZAR - South African Rand</option>
                    <option value="TRY">TRY - Turkish Lira</option>
                    <option value="SAR">SAR - Saudi Riyal</option>
                    <option value="QAR">QAR - Qatari Riyal</option>
                    <option value="KWD">KWD - Kuwaiti Dinar</option>
                    <option value="OMR">OMR - Omani Rial</option>
                    <option value="BHD">BHD - Bahraini Dinar</option>
                    <option value="EGP">EGP - Egyptian Pound</option>
                    <option value="PKR">PKR - Pakistani Rupee</option>
                    <option value="PHP">PHP - Philippine Peso</option>
                    <option value="IDR">IDR - Indonesian Rupiah</option>
                    <option value="VND">VND - Vietnamese Dong</option>
                    <option value="NZD">NZD - New Zealand Dollar</option>
                    <option value="CZK">CZK - Czech Koruna</option>
                    <option value="HUF">HUF - Hungarian Forint</option>
                    <option value="RON">RON - Romanian Leu</option>
                    <option value="BGN">BGN - Bulgarian Lev</option>
                    <option value="HRK">HRK - Croatian Kuna</option>
                    <option value="UAH">UAH - Ukrainian Hryvnia</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Notifications Settings -->
          <div class="settings-panel" id="notifications-panel">
            <div class="settings-panel-header">
              <h2 class="settings-panel-title">
                <i data-lucide="bell"></i>
                <span><%= t('settings.notifications.title') %></span>
              </h2>
              <p class="settings-panel-subtitle"><%= t('settings.notifications.subtitle') %></p>
            </div>

            <div class="settings-group">
              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.notifications.email') %></h3>
                  <p class="setting-description"><%= t('settings.notifications.emailDesc') %></p>
                </div>
                <div class="setting-control">
                  <label class="toggle-switch">
                    <input type="checkbox" id="emailNotifications" checked>
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.notifications.orderUpdates') %></h3>
                  <p class="setting-description"><%= t('settings.notifications.orderUpdatesDesc') %></p>
                </div>
                <div class="setting-control">
                  <label class="toggle-switch">
                    <input type="checkbox" id="orderUpdates" checked>
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.notifications.promotional') %></h3>
                  <p class="setting-description"><%= t('settings.notifications.promotionalDesc') %></p>
                </div>
                <div class="setting-control">
                  <label class="toggle-switch">
                    <input type="checkbox" id="promotionalEmails">
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.notifications.sms') %></h3>
                  <p class="setting-description"><%= t('settings.notifications.smsDesc') %></p>
                </div>
                <div class="setting-control">
                  <label class="toggle-switch">
                    <input type="checkbox" id="smsNotifications">
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Privacy Settings -->
          <div class="settings-panel" id="privacy-panel">
            <div class="settings-panel-header">
              <h2 class="settings-panel-title">
                <i data-lucide="lock"></i>
                <span><%= t('settings.privacy.title') %></span>
              </h2>
              <p class="settings-panel-subtitle"><%= t('settings.privacy.subtitle') %></p>
            </div>

            <div class="settings-group">
              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.privacy.visibility') %></h3>
                  <p class="setting-description"><%= t('settings.privacy.visibilityDesc') %></p>
                </div>
                <div class="setting-control">
                  <select class="setting-select" id="profileVisibility">
                    <option value="public"><%= t('settings.privacy.public') %></option>
                    <option value="private"><%= t('settings.privacy.private') %></option>
                    <option value="friends"><%= t('settings.privacy.friendsOnly') %></option>
                  </select>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.privacy.dataCollection') %></h3>
                  <p class="setting-description"><%= t('settings.privacy.dataCollectionDesc') %></p>
                </div>
                <div class="setting-control">
                  <label class="toggle-switch">
                    <input type="checkbox" id="dataCollection" checked>
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.privacy.cookies') %></h3>
                  <p class="setting-description"><%= t('settings.privacy.cookiesDesc') %></p>
                </div>
                <div class="setting-control">
                  <label class="toggle-switch">
                    <input type="checkbox" id="cookies" checked>
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Security Settings -->
          <div class="settings-panel" id="security-panel">
            <div class="settings-panel-header">
              <h2 class="settings-panel-title">
                <i data-lucide="shield"></i>
                <span><%= t('settings.security.title') %></span>
              </h2>
              <p class="settings-panel-subtitle"><%= t('settings.security.subtitle') %></p>
            </div>

            <div class="settings-group">
              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.security.twoFA') %></h3>
                  <p class="setting-description"><%= t('settings.security.twoFADesc') %></p>
                </div>
                <div class="setting-control">
                  <button class="setting-action-btn" id="setup2FABtn">
                    <i data-lucide="shield-check"></i>
                    <span><%= t('settings.security.setup2FA') %></span>
                  </button>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.security.changePassword') %></h3>
                  <p class="setting-description"><%= t('settings.security.changePasswordDesc') %></p>
                </div>
                <div class="setting-control">
                  <button class="setting-action-btn" id="changePasswordBtn">
                    <i data-lucide="key"></i>
                    <span><%= t('settings.security.changePasswordBtn') %></span>
                  </button>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.security.activeSessions') %></h3>
                  <p class="setting-description"><%= t('settings.security.activeSessionsDesc') %></p>
                </div>
                <div class="setting-control">
                  <button class="setting-action-btn" id="viewSessionsBtn">
                    <i data-lucide="monitor"></i>
                    <span><%= t('settings.security.viewSessions') %></span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Preferences Settings -->
          <div class="settings-panel" id="preferences-panel">
            <div class="settings-panel-header">
              <h2 class="settings-panel-title">
                <i data-lucide="palette"></i>
                <span><%= t('settings.preferences.title') %></span>
              </h2>
              <p class="settings-panel-subtitle"><%= t('settings.preferences.subtitle') %></p>
            </div>

            <div class="settings-group">
              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.preferences.theme') %></h3>
                  <p class="setting-description"><%= t('settings.preferences.themeDesc') %></p>
                </div>
                <div class="setting-control">
                  <select class="setting-select" id="themeSelect">
                    <option value="light"><%= t('settings.preferences.light') %></option>
                    <option value="dark"><%= t('settings.preferences.dark') %></option>
                    <option value="auto"><%= t('settings.preferences.auto') %></option>
                  </select>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.preferences.itemsPerPage') %></h3>
                  <p class="setting-description"><%= t('settings.preferences.itemsPerPageDesc') %></p>
                </div>
                <div class="setting-control">
                  <select class="setting-select" id="itemsPerPage">
                    <option value="10">10</option>
                    <option value="20" selected>20</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Billing Settings -->
          <div class="settings-panel" id="billing-panel">
            <div class="settings-panel-header">
              <h2 class="settings-panel-title">
                <i data-lucide="credit-card"></i>
                <span><%= t('settings.billing.title') %></span>
              </h2>
              <p class="settings-panel-subtitle"><%= t('settings.billing.subtitle') %></p>
            </div>

            <div class="settings-group">
              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.billing.paymentMethods') %></h3>
                  <p class="setting-description"><%= t('settings.billing.paymentMethodsDesc') %></p>
                </div>
                <div class="setting-control">
                  <button class="setting-action-btn" id="managePaymentMethodsBtn">
                    <i data-lucide="credit-card"></i>
                    <span><%= t('settings.billing.managePaymentMethods') %></span>
                  </button>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.billing.billingAddress') %></h3>
                  <p class="setting-description"><%= t('settings.billing.billingAddressDesc') %></p>
                </div>
                <div class="setting-control">
                  <button class="setting-action-btn" id="updateBillingAddressBtn">
                    <i data-lucide="map-pin"></i>
                    <span><%= t('settings.billing.updateAddress') %></span>
                  </button>
                </div>
              </div>

              <div class="setting-item">
                <div class="setting-info">
                  <h3 class="setting-title"><%= t('settings.billing.invoiceHistory') %></h3>
                  <p class="setting-description"><%= t('settings.billing.invoiceHistoryDesc') %></p>
                </div>
                <div class="setting-control">
                  <button class="setting-action-btn" id="viewInvoicesBtn">
                    <i data-lucide="file-text"></i>
                    <span><%= t('settings.billing.viewInvoices') %></span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Save Button -->
          <div class="settings-actions">
            <button class="settings-save-btn" id="saveSettingsBtn">
              <i data-lucide="save"></i>
              <span><%= t('common.saveChanges') %></span>
            </button>
            <button class="settings-reset-btn" id="resetSettingsBtn">
              <i data-lucide="refresh-cw"></i>
              <span><%= t('settings.resetToDefault') %></span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/quick-search') %>
<%- include('partials/footer') %>

<script src="/js/main.js"></script>
<script src="/js/quick-search.js"></script>
<script src="/js/cart.js"></script>
<script src="/js/cart-badge-updater.js"></script>
<script src="/js/settings.js"></script>
<script>
  lucide.createIcons();
  window.addEventListener('load', () => lucide.createIcons());
</script>


